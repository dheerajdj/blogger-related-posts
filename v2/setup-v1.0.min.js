/* 	Related Posts Widget Setup v1.0
	Blog : http://www.moretechtips.net
	Copyright 2009 [Mike@moretechtips.net] 
	Licensed under the Apache License, Version 2.0 
	(the "License"); you may not use this file except in compliance with the License. 
	You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 
*/
(function(b){var k="",l=b.fn.relatedPostsWidget.defaults,e={name:"div",clss:"related-posts-widget",attr:"data-options",init:"loading.."},f={blog_url:null,max_posts:null,max_tags:null,posts_per_tag:null,tags:null,loading_class:null,related_title:null,recent_title:null,post_score_class:null,thumb_default:null,thumb_size:null,thumbs:null,titles:null,url_querystring:null,timeout:null,show_n:null,stay_time:null,enter_time:null,exit_time:null,animate:null,animate_loop:null,post_page_only:null,tags1:null,demo_css:null,widget_load:null},m={"#demo1":{thumbs:0,demo_title:"Demo 1: Related Posts Widget - Links only"},"#demo2":{titles:0,demo_title:"Demo 2: Related Posts Widget - Thumbnails only",demo_css:"http://blogger-related-posts.googlecode.com/svn/v2/style1.css"},"#demo3":{thumb_size:"s320",max_posts:4,show_n:1,demo_title:"Demo 3: Related Posts Widget - Custom Sized Thumbnails - Animated",demo_css:"http://blogger-related-posts.googlecode.com/svn/v2/style2.css"},"#demo4":{thumb_size:"s104-c",titles:0,max_posts:12,tags:[],show_n:4,animate:"width",demo_title:"Demo 4: Recent Posts Widget Too!",demo_css:"http://blogger-related-posts.googlecode.com/svn/v2/style1.css"}},n=function(a){if(!a){a={};b.each(f,function(d){var g;try{g=eval(f[d].val())}catch(h){g=f[d].val()}if(g!==l[d])a[d]=g})}var c=false;if(a.blog_url==undefined){a.blog_url="http://www.moretechtips.net";c=true}b("#demo").html("");b("#demo-css").remove();a.demo_css&&b("head").append('<link id="demo-css" href="'+a.demo_css+'" rel="stylesheet" type="text/css"/>');if(!a.demo_title)a.demo_title=k;b("#heading").fadeOut(0,function(){b(this).text(a.demo_title);b(this).fadeIn(300)});b("#demo").relatedPostsWidget(a);if(c)a.blog_url=undefined;q(a)},q=function(a){var c=true,d="";d=a.demo_css?'<!--~~~~~~~~~~~~~~~~~ Include CSS and these JS files once: jQuery then plugin --\>\n<link type="text/css" href="'+a.demo_css+'" rel="stylesheet" />\n':"<!--~~~~~~~~~~~~~~~~~ Include these JS files once: jQuery then plugin --\>\n";d+='<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"><\/script>\n<script type="text/javascript" src="http://blogger-related-posts.googlecode.com/files/jquery.related-posts-widget-2.0.min.js"><\/script>\n<!---~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~--\>\n\n';var g="",h="";if(a.widget_load=="jquery"){g='<!--~~~~~~~~ Calling widget --\>\n<script type="text/javascript">\n//<![CDATA[\n$(document).ready(function(){\n$(\'#'+e.clss+"').relatedPostsWidget(";h=");\n});\n//]]\>\n<\/script>\n<!--~~~~~~~~~~~~~~~~~~~~~~~~--\>\n\n<!--~~~~~~~~~~~ required HTML --\>\n<"+e.name+' id="'+e.clss+'">'+e.init+"</"+e.name+">\n<!--~~~~~~~~~~~~~~~~~~~~~~~~~~--\>"}else if(a.widget_load=="html5"){g="<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~ required HTML --\>\n<"+e.name+' class="'+e.clss+'" '+e.attr+'="';h='">'+e.init+"</"+e.name+">\n<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~--\>"}else{g="<!--~~~~~~~~~~~~~~~~~~~~~~~ required HTML --\>\n<"+e.name+' class="'+e.clss+'">\n<!-- ';h=" --\>\n"+e.init+"\n</"+e.name+">\n<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~--\>"}d+=g;b.each(a,function(i){if(a[i]!=undefined&&l[i]!=undefined){if(c){d+="{\n\t";c=false}else d+="\t,";d=d+i+":"+o(a[i])+"\n"}});c||(d+="}");d+=h;var j=b("#code");j.hide(0,function(){j.val(d);j.fadeIn(300)})},o=function(a){var c;c=typeof a;c=c!=="object"?c:a instanceof Array?"array":a===null?"null":"object";if(c=="null"||c=="number"||c=="boolean")return a;else if(c=="string")return"'"+a+"'";else if(c=="array"){c="[";for(var d=0,g=a.length;d<g;d++)c=c+(d>0?", ":"")+o(a[d]);c+="]";return c}},p=function(a){a=a?m[a]:m[location.hash];!a||a==undefined||n(a)};b(document).ready(function(){k=b("#heading").text();b.each(f,function(a){f[a]=b("#"+a)});b("#setup_form").validate({meta:"validate",submitHandler:function(){n();return false}});f.tags1.change(function(){if(f.tags1.val()=="fixed"){b("li.tags1").css("display","block");f.tags.val("")}else{f.tags.val(f.tags1.val());b("li.tags1").css("display","none")}});f.tags1.change();b("#demos a").click(function(){p(b(this).attr("href"))});b("#code").focus(function(){this.select()});p()})})(jQuery);